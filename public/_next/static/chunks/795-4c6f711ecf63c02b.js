(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[795],{2348:(e,t,n)=>{"use strict";var r=n(4232),o=n(2098);function a(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var i,c=a(r),l=a(o);t.UJ=void 0,(i=t.UJ||(t.UJ={}))[i.Text=1]="Text",i[i.Link=2]="Link",i[i.FreeText=3]="FreeText",i[i.Line=4]="Line",i[i.Square=5]="Square",i[i.Circle=6]="Circle",i[i.Polygon=7]="Polygon",i[i.Polyline=8]="Polyline",i[i.Highlight=9]="Highlight",i[i.Underline=10]="Underline",i[i.Squiggly=11]="Squiggly",i[i.StrikeOut=12]="StrikeOut",i[i.Stamp=13]="Stamp",i[i.Caret=14]="Caret",i[i.Ink=15]="Ink",i[i.Popup=16]="Popup",i[i.FileAttachment=17]="FileAttachment";var u=function(e,t){return(u=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var p,d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.z4=void 0,(p=t.z4||(t.z4={})).RightToLeft="RTL",p.LeftToRight="LTR";var f,h=c.createContext({currentTheme:"light",direction:t.z4.LeftToRight,setCurrentTheme:function(){}}),g=function(e){var t=[];return Object.keys(e).forEach(function(n){n&&e[n]&&t.push(n)}),t.join(" ")},v="undefined"!=typeof window?c.useLayoutEffect:c.useEffect,m=function(e){var t=c.useRef(null),n=e.once,r=e.threshold,o=e.onVisibilityChanged;return v(function(){var e=t.current;if(e){var a=new IntersectionObserver(function(t){t.forEach(function(t){var r=t.isIntersecting;o({isVisible:r,ratio:t.intersectionRatio}),r&&n&&(a.unobserve(e),a.disconnect())})},{threshold:r||0});return a.observe(e),function(){a.unobserve(e),a.disconnect()}}},[]),t},w=function(e){var n=e.children,r=e.ignoreDirection,o=e.size,a=c.useContext(h).direction,i=!(void 0!==r&&r)&&a===t.z4.RightToLeft,l="".concat((void 0===o?24:o)||24,"px");return c.createElement("svg",{"aria-hidden":"true",className:g({"rpv-core__icon":!0,"rpv-core__icon--rtl":i}),focusable:"false",height:l,viewBox:"0 0 24 24",width:l},n)},E=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},y=function(e){var n=e.children,r=e.testId,o=e.onClick,a=c.useContext(h).direction===t.z4.RightToLeft;return c.createElement("button",d({className:g({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":a}),type:"button",onClick:o},r?{"data-testid":r}:{}),n)},b=function(e){var t=e.size,n=void 0===t?"4rem":t,r=e.testId,o=c.useState(!1),a=o[0],i=o[1],l=m({onVisibilityChanged:function(e){i(e.isVisible)}});return c.createElement("div",d({},r?{"data-testid":r}:{},{className:g({"rpv-core__spinner":!0,"rpv-core__spinner--animating":a}),ref:l,style:{height:n,width:n}}))},P=function(e){var n=e.ariaLabel,r=e.autoFocus,o=void 0!==r&&r,a=e.placeholder,i=e.testId,l=e.type,u=e.value,s=e.onChange,p=e.onKeyDown,f=c.useContext(h).direction,m=c.useRef(),w={ref:m,"data-testid":"","aria-label":void 0===n?"":n,className:g({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":f===t.z4.RightToLeft}),placeholder:void 0===a?"":a,value:void 0===u?"":u,onChange:function(e){return s(e.target.value)},onKeyDown:void 0===p?function(){}:p};return i&&(w["data-testid"]=i),v(function(){if(o){var e=m.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}},[]),"text"===(void 0===l?"text":l)?c.createElement("input",d({type:"text"},w)):c.createElement("input",d({type:"password"},w))};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(f||(f={}));var x,R={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},_={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},k={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},C="undefined"!=typeof window,S=C&&(f.FullScreenEnabled in document&&R||_.FullScreenEnabled in document&&_||k.FullScreenEnabled in document&&k)||R,T=function(e){return C?e[S.ExitFullScreen]():Promise.resolve({})},L=function(){return C?document[S.FullScreenElement]:null},M=function(e,t){var n=c.useRef(),r=function(){n.current&&clearTimeout(n.current)};return c.useEffect(function(){return function(){return r()}},[]),c.useCallback(function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];r(),n.current=setTimeout(function(){e.apply(void 0,o)},t)},[e,t])},O=function(){var e=c.useRef(!1);return c.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},H=function(e){var t=c.useRef(e);return c.useEffect(function(){t.current=e},[e]),t.current};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(x||(x={}));var I,F=function(e){var t=e.doc,n=t.numPages,r=t.loadingTask.docId,o=c.useMemo(function(){return Array(n).fill(null).map(function(e,t){return{pageIndex:t,renderStatus:x.NotRenderedYet,visibility:-9999}})},[r]),a=c.useRef({currentRenderingPage:-1,startRange:0,endRange:n-1,visibilities:o}),i=function(e,t){a.current.visibilities[e].visibility=t};return{getHighestPriorityPage:function(){var e=a.current.visibilities.slice(a.current.startRange,a.current.endRange+1).filter(function(e){return e.visibility>-9999});if(!e.length)return -1;for(var t=e[0].pageIndex,r=e[e.length-1].pageIndex,o=e.length,i=0;i<o;i++){if(e[i].renderStatus===x.Rendering)return -1;if(e[i].renderStatus===x.NotRenderedYet)return e[i].pageIndex}return r+1<n&&a.current.visibilities[r+1].renderStatus!==x.Rendered?r+1:t-1>=0&&a.current.visibilities[t-1].renderStatus!==x.Rendered?t-1:-1},isInRange:function(e){return e>=a.current.startRange&&e<=a.current.endRange},markNotRendered:function(){for(var e=0;e<n;e++)a.current.visibilities[e].renderStatus=x.NotRenderedYet},markRendered:function(e){a.current.visibilities[e].renderStatus=x.Rendered},markRendering:function(e){-1!==a.current.currentRenderingPage&&a.current.currentRenderingPage!==e&&a.current.visibilities[a.current.currentRenderingPage].renderStatus===x.Rendering&&(a.current.visibilities[a.current.currentRenderingPage].renderStatus=x.NotRenderedYet),a.current.visibilities[e].renderStatus=x.Rendering,a.current.currentRenderingPage=e},setOutOfRange:function(e){i(e,-9999)},setRange:function(e,t){a.current.startRange=e,a.current.endRange=t;for(var r=0;r<n;r++)(r<e||r>t)&&(a.current.visibilities[r].visibility=-9999,a.current.visibilities[r].renderStatus=x.NotRenderedYet)},setVisibility:i}},V={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},D=c.createContext({l10n:V,setL10n:function(){}}),z=0,A=function(e,t,n){var r=function(e){var r=t.current;if(r){var o=e.target;if(o instanceof Element&&o.shadowRoot){var a=e.composedPath();a.length>0&&!r.contains(a[0])&&n()}else r.contains(o)||n()}};c.useEffect(function(){if(e){var t={capture:!0};return document.addEventListener("click",r,t),function(){document.removeEventListener("click",r,t)}}},[])},N=function(e){var t=function(t){"Escape"===t.key&&e()};c.useEffect(function(){return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}},[])};t.$K=void 0,(I=t.$K||(t.$K={})).Close="Close",I.Open="Open",I.Toggle="Toggle";var B,j=function(e){var n=c.useState(e),r=n[0],o=n[1];return{opened:r,toggle:function(e){switch(e){case t.$K.Close:o(!1);break;case t.$K.Open:o(!0);break;case t.$K.Toggle:default:o(function(e){return!e})}}}};t.yX=void 0,(B=t.yX||(t.yX={})).TopLeft="TOP_LEFT",B.TopCenter="TOP_CENTER",B.TopRight="TOP_RIGHT",B.RightTop="RIGHT_TOP",B.RightCenter="RIGHT_CENTER",B.RightBottom="RIGHT_BOTTOM",B.BottomLeft="BOTTOM_LEFT",B.BottomCenter="BOTTOM_CENTER",B.BottomRight="BOTTOM_RIGHT",B.LeftTop="LEFT_TOP",B.LeftCenter="LEFT_CENTER",B.LeftBottom="LEFT_BOTTOM";var W,U,G,q,J,X,K,$,Z=function(e,n,r,o,a){v(function(){var i=n.current,c=e.current,l=r.current;if(c&&i&&l){var u=l.getBoundingClientRect(),s=function(e,n,r,o){var a=n.getBoundingClientRect(),i=e.getBoundingClientRect(),c=i.height,l=i.width,u=0,s=0;switch(r){case t.yX.TopLeft:u=a.top-c,s=a.left;break;case t.yX.TopCenter:u=a.top-c,s=a.left+a.width/2-l/2;break;case t.yX.TopRight:u=a.top-c,s=a.left+a.width-l;break;case t.yX.RightTop:u=a.top,s=a.left+a.width;break;case t.yX.RightCenter:u=a.top+a.height/2-c/2,s=a.left+a.width;break;case t.yX.RightBottom:u=a.top+a.height-c,s=a.left+a.width;break;case t.yX.BottomLeft:u=a.top+a.height,s=a.left;break;case t.yX.BottomCenter:u=a.top+a.height,s=a.left+a.width/2-l/2;break;case t.yX.BottomRight:u=a.top+a.height,s=a.left+a.width-l;break;case t.yX.LeftTop:u=a.top,s=a.left-l;break;case t.yX.LeftCenter:u=a.top+a.height/2-c/2,s=a.left-l;break;case t.yX.LeftBottom:u=a.top+a.height-c,s=a.left-l}return{left:s+(o.left||0),top:u+(o.top||0)}}(c,i,o,a),p=s.top,d=s.left;c.style.top="".concat(p-u.top,"px"),c.style.left="".concat(d-u.left,"px")}},[])},Y=function(e){var n,r=e.customClassName,o=e.position;return c.createElement("div",{className:g(((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":o===t.yX.TopLeft,"rpv-core__arrow--tc":o===t.yX.TopCenter,"rpv-core__arrow--tr":o===t.yX.TopRight,"rpv-core__arrow--rt":o===t.yX.RightTop,"rpv-core__arrow--rc":o===t.yX.RightCenter,"rpv-core__arrow--rb":o===t.yX.RightBottom,"rpv-core__arrow--bl":o===t.yX.BottomLeft,"rpv-core__arrow--bc":o===t.yX.BottomCenter,"rpv-core__arrow--br":o===t.yX.BottomRight,"rpv-core__arrow--lt":o===t.yX.LeftTop,"rpv-core__arrow--lc":o===t.yX.LeftCenter,"rpv-core__arrow--lb":o===t.yX.LeftBottom})["".concat(r)]=""!==r,n))})};t.HG=void 0,(W=t.HG||(t.HG={})).Normal="Normal",W.Entering="Entering",W.Entered="Entered",W.EnteredCompletely="EnteredCompletely",W.Exitting="Exitting",W.Exited="Exited",t._8=void 0,(U=t._8||(t._8={}))[U.PreRender=0]="PreRender",U[U.DidRender=1]="DidRender",t.bH=void 0,(G=t.bH||(t.bH={})).Attachments="UseAttachments",G.Bookmarks="UseOutlines",G.ContentGroup="UseOC",G.Default="UserNone",G.FullScreen="FullScreen",G.Thumbnails="UseThumbs",t.a9=void 0,(q=t.a9||(t.a9={})).RequiredPassword="RequiredPassword",q.WrongPassword="WrongPassword",t.pT=void 0,(J=t.pT||(t.pT={})).Backward="Backward",J.Forward="Forward",t.VT=void 0,(X=t.VT||(t.VT={})).Page="Page",X.Horizontal="Horizontal",X.Vertical="Vertical",X.Wrapped="Wrapped",t.dD=void 0,(K=t.dD||(t.dD={})).ActualSize="ActualSize",K.PageFit="PageFit",K.PageWidth="PageWidth",t.nE=void 0,($=t.nE||(t.nE={})).DualPage="DualPage",$.DualPageWithCover="DualPageWithCover",$.SinglePage="SinglePage";var Q,ee=function(e,t){return e.reduce(function(e,n,r){return r%t?e[e.length-1].push(n):e.push([n]),e},[])},et=function(e,n){switch(n[1].name){case"XYZ":return{bottomOffset:function(e,t){return null===n[3]?t:n[3]},leftOffset:function(e,t){return null===n[2]?0:n[2]},pageIndex:e,scaleTo:n[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:t.dD.PageFit};case"FitH":case"FitBH":return{bottomOffset:n[2],leftOffset:0,pageIndex:e,scaleTo:t.dD.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},en=new Map,er=new Map,eo=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},ea=function(e,t,n){en.set(eo(e,t),n)},ei=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),r=er.get(n);return r?Promise.resolve(r):new Promise(function(r,o){e.getPage(t+1).then(function(o){er.set(n,o),o.ref&&ea(e,o.ref,t),r(o)})})},ec=function(e,t){return new Promise(function(n){new Promise(function(n){"string"==typeof t?e.getDestination(t).then(function(e){n(e)}):n(t)}).then(function(r){if("object"==typeof r[0]&&null!==r[0]){var o,a=r[0],i=(o=eo(e,a),en.has(o)?en.get(o):null);null===i?e.getPageIndex(a).then(function(r){ea(e,a,r),ec(e,t).then(function(e){return n(e)})}):n(et(i,r))}else n(et(r[0],r))})})};!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(Q||(Q={}));var el,eu=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),es=function(e,t,n,r){var o=parseInt(e,10);return o>=t&&o<=n?o:r},ep=function(e){return e.contentsObj?e.contentsObj.str:e.contents||""},ed=function(e){return e.titleObj?e.titleObj.str:e.title||""},ef=function(e){var n=e.annotation,r=c.useContext(h).direction,o=ed(n),a=ep(n),i=r===t.z4.RightToLeft,l=c.useRef(),u="";if(n.modificationDate){var s=function(e){var t=eu.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=es(t[2],1,12,1)-1,o=es(t[3],1,31,1),a=es(t[4],0,23,0),i=es(t[5],0,59,0),c=es(t[6],0,59,0),l=t[7]||"Z",u=es(t[8],0,23,0),s=es(t[9],0,59,0);switch(l){case"-":a+=u,i+=s;break;case"+":a-=u,i-=s}return new Date(Date.UTC(n,r,o,a,i,c))}(n.modificationDate);u=s?"".concat(s.toLocaleDateString(),", ").concat(s.toLocaleTimeString()):""}return c.useLayoutEffect(function(){if(l.current){var e=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(e)return e.style.zIndex+=1,function(){e.style.zIndex="".concat(parseInt(e.style.zIndex,10)-1)}}},[]),c.createElement("div",{ref:l,className:g({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":i}),style:{top:n.annotationType===t.UJ.Popup?"":"100%"}},o&&c.createElement(c.Fragment,null,c.createElement("div",{className:g({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!i,"rpv-core__annotation-popup-title--rtl":i})},o),c.createElement("div",{className:"rpv-core__annotation-popup-date"},u)),a&&c.createElement("div",{className:"rpv-core__annotation-popup-content"},a.split("\n").map(function(e,t){return c.createElement(c.Fragment,{key:t},e,c.createElement("br",null))})))};!function(e){e.Click="Click",e.Hover="Hover"}(el||(el={}));var eh,eg=function(e){var n,r,o,a,i,l,u,s=e.annotation,p=e.children,d=e.ignoreBorder,f=e.hasPopup,h=e.isRenderable,g=e.page,v=e.viewport,m=s.rect,w=(r=(n=j(!1)).opened,o=n.toggle,i=(a=c.useState(el.Hover))[0],l=a[1],{opened:r,closeOnHover:function(){i===el.Hover&&o(t.$K.Close)},openOnHover:function(){i===el.Hover&&o(t.$K.Open)},toggleOnClick:function(){switch(i){case el.Click:r&&l(el.Hover),o(t.$K.Toggle);break;case el.Hover:l(el.Click),o(t.$K.Open)}}}),E=w.closeOnHover,y=w.opened,b=w.openOnHover,P=w.toggleOnClick,x=[Math.min((u=[m[0],g.view[3]+g.view[1]-m[1],m[2],g.view[3]+g.view[1]-m[3]])[0],u[2]),Math.min(u[1],u[3]),Math.max(u[0],u[2]),Math.max(u[1],u[3])],R=m[2]-m[0],_=m[3]-m[1],k={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!d&&s.borderStyle.width>0){switch(s.borderStyle.style){case Q.Dashed:k.borderStyle="dashed";break;case Q.Solid:k.borderStyle="solid";break;case Q.Underline:k=Object.assign({borderBottomStyle:"solid"},k);case Q.Beveled:case Q.Inset:}var C=s.borderStyle.width;k.borderWidth="".concat(C,"px"),s.borderStyle.style!==Q.Underline&&(R-=2*C,_-=2*C);var S=s.borderStyle,T=S.horizontalCornerRadius,L=S.verticalCornerRadius;(T>0||L>0)&&(k.borderRadius="".concat(T,"px / ").concat(L,"px")),s.color?k.borderColor="rgb(".concat(0|s.color[0],", ").concat(0|s.color[1],", ").concat(0|s.color[2],")"):k.borderWidth="0"}return c.createElement(c.Fragment,null,h&&p({popup:{opened:y,closeOnHover:E,openOnHover:b,toggleOnClick:P},slot:{attrs:{style:Object.assign({height:"".concat(_,"px"),left:"".concat(x[0],"px"),top:"".concat(x[1],"px"),transform:"matrix(".concat(v.transform.join(","),")"),transformOrigin:"-".concat(x[0],"px -").concat(x[1],"px"),width:"".concat(R,"px")},k)},children:c.createElement(c.Fragment,null,f&&y&&c.createElement(ef,{annotation:s}))}}))},ev=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i);return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},em=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],p=u[3]-u[1],f=t.borderStyle.width;return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c.createElement("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(p),width:"".concat(s,"px")},c.createElement("circle",{cy:p/2,fill:"none",rx:s/2-f/2,ry:p/2-f/2,stroke:"transparent",strokeWidth:f||1})),e.slot.children)})},ew=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=ed(t),a=ep(t),i=!(!1!==t.hasPopup||!o&&!a),l=function(){var e,n,r,o,a,i=t.file;i&&(n=i.filename,o="string"==typeof(r=i.content)?"":URL.createObjectURL(new Blob([r],{type:""})),(a=document.createElement("a")).style.display="none",a.href=o||n,a.setAttribute("download",(e=n.split("/").pop())?e.split("#")[0].split("?")[0]:n),document.body.appendChild(a),a.click(),document.body.removeChild(a),o&&URL.revokeObjectURL(o))};return c.createElement(eg,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},eE=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i);return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},ey=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=ed(t),a=ep(t),i=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return v(function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'.concat(t.parentId,'"]')),n=document.querySelector('[data-annotation-id="'.concat(t.id,'"]'));if(e&&n){var r=parseFloat(e.style.left),o=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left="".concat(r,"px"),n.style.top="".concat(o,"px"),n.style.transformOrigin="-".concat(r,"px -").concat(o,"px")}}},[]),c.createElement(eg,{annotation:t,hasPopup:i,ignoreBorder:!1,isRenderable:!(!o&&!a),page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":t.id}),c.createElement(ef,{annotation:t}))})},eb=function(e){var n=e.annotation,r=e.childAnnotation,o=e.page,a=e.viewport,i=!1===n.hasPopup,l=ed(n),u=ep(n),s=!!(n.hasPopup||l||u);if(n.quadPoints&&n.quadPoints.length>0){var p=n.quadPoints.map(function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})});return c.createElement(c.Fragment,null,p.map(function(e,t){return c.createElement(eb,{key:t,annotation:e,childAnnotation:r,page:o,viewport:a})}))}return c.createElement(eg,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:o,viewport:a},function(e){return c.createElement(c.Fragment,null,c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),r&&r.annotationType===t.UJ.Popup&&e.popup.opened&&c.createElement(ey,{annotation:r,page:o,viewport:a}))})},eP=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],p=u[3]-u[1],f=t.borderStyle.width;return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&c.createElement("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(p),width:"".concat(s,"px")},t.inkLists.map(function(e,t){return c.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:f||1,points:e.map(function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)}).join(" ")})})),e.slot.children)})},ex=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],p=u[3]-u[1],f=t.borderStyle.width;return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c.createElement("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(p),width:"".concat(s,"px")},c.createElement("line",{stroke:"transparent",strokeWidth:f||1,x1:u[2]-t.lineCoordinates[0],x2:u[2]-t.lineCoordinates[2],y1:u[3]-t.lineCoordinates[1],y2:u[3]-t.lineCoordinates[3]})),e.slot.children)})},eR=/^([^\w]*)(javascript|data|vbscript)/im,e_=/&#(\w+)(^\w|;)?/g,ek=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,eC=/^([^:]+):/gm,eS=function(e,t){void 0===t&&(t="about:blank");var n=(e||"").replace(e_,function(e,t){return String.fromCharCode(t)}).replace(ek,"").trim();if(!n)return t;var r=n[0];if("."===r||"/"===r)return n;var o=n.match(eC);if(!o)return n;var a=o[0];return eR.test(a)?t:n},eT=function(e){var t,n=e.annotation,r=e.annotationContainerRef,o=e.doc,a=e.outlines,i=e.page,l=e.pageIndex,u=e.scale,s=e.viewport,p=e.onExecuteNamedAction,f=e.onJumpFromLinkAnnotation,h=e.onJumpToDest,g=c.useRef(),v=a&&a.length&&n.dest&&"string"==typeof n.dest?null==(t=a.find(function(e){return e.dest===n.dest}))?void 0:t.title:"",m=!!(n.url||n.dest||n.action||n.unsafeUrl),w={};if(n.url||n.unsafeUrl){var E=eS(n.url||n.unsafeUrl,"");E?w={"data-target":"external",href:E,rel:"noopener noreferrer nofollow",target:n.newWindow?"_blank":"",title:E}:m=!1}else w={href:"","data-annotation-link":n.id,onClick:function(e){e.preventDefault(),n.action?p(n.action):ec(o,n.dest).then(function(e){var t=g.current,n=r.current;if(t&&n){var o=t.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var a=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var i=(o.left-a.left)/u;f({bottomOffset:(a.bottom-o.bottom+o.height)/u,label:v,leftOffset:i,pageIndex:l})}h(e)})}};return v&&(w=Object.assign({},w,{title:v,"aria-label":v})),c.createElement(eg,{annotation:n,hasPopup:!1,ignoreBorder:!1,isRenderable:m,page:i,viewport:s},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":n.id,"data-testid":"core__annotation--link-".concat(n.id)}),c.createElement("a",d({ref:g},w)))})},eL=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],p=u[3]-u[1],f=t.borderStyle.width;return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&c.createElement("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(p),width:"".concat(s,"px")},c.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:t.vertices.map(function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)}).join(" ")})),e.slot.children)})},eM=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],p=u[3]-u[1],f=t.borderStyle.width;return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&c.createElement("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(p),width:"".concat(s,"px")},c.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:t.vertices.map(function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)}).join(" ")})),e.slot.children)})},eO=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i),u=t.rect,s=u[2]-u[0],p=u[3]-u[1],f=t.borderStyle.width;return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c.createElement("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(s," ").concat(p),width:"".concat(s,"px")},c.createElement("rect",{height:p-f,fill:"none",stroke:"transparent",strokeWidth:f||1,x:f/2,y:f/2,width:s-f})),e.slot.children)})},eH=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i);return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},eI=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i);return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},eF=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i);return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},eV=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),c.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),c.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),c.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},eD=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),c.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),c.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),c.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),c.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),c.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),c.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),c.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),c.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),c.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ez=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),c.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},eA=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),c.createElement("path",{d:"M6 4.5L6 0.5"}),c.createElement("path",{d:"M18 4.5L18 0.5"}),c.createElement("path",{d:"M10 4.5L10 0.5"}),c.createElement("path",{d:"M14 4.5L14 0.5"}))},eN=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),c.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),c.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},eB=function(){return c.createElement(w,{size:16},c.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ej=function(e){var n=e.annotation,r=e.childAnnotation,o=e.page,a=e.viewport,i=!1===n.hasPopup,l=ed(n),u=ep(n),s=!!(n.hasPopup||l||u),p=n.name?n.name.toLowerCase():"";return c.createElement(eg,{annotation:n,hasPopup:i,ignoreBorder:!1,isRenderable:s,page:o,viewport:a},function(e){return c.createElement(c.Fragment,null,c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),p&&c.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===p&&c.createElement(E,null),"comment"===p&&c.createElement(eV,null),"help"===p&&c.createElement(eD,null),"insert"===p&&c.createElement(eB,null),"key"===p&&c.createElement(ez,null),"note"===p&&c.createElement(eA,null),("newparagraph"===p||"paragraph"===p)&&c.createElement(eN,null)),e.slot.children),r&&r.annotationType===t.UJ.Popup&&e.popup.opened&&c.createElement(ey,{annotation:r,page:o,viewport:a}))})},eW=function(e){var t=e.annotation,n=e.page,r=e.viewport,o=!1===t.hasPopup,a=ed(t),i=ep(t),l=!!(t.hasPopup||a||i);return c.createElement(eg,{annotation:t,hasPopup:o,ignoreBorder:!0,isRenderable:l,page:n,viewport:r},function(e){return c.createElement("div",d({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)})},eU=function(e){var n=e.annotations,r=e.doc,o=e.outlines,a=e.page,i=e.pageIndex,l=e.plugins,u=e.rotation,s=e.scale,p=e.onExecuteNamedAction,d=e.onJumpFromLinkAnnotation,f=e.onJumpToDest,h=c.useRef(),g=a.getViewport({rotation:u,scale:s}).clone({dontFlip:!0}),m=n.filter(function(e){return!e.parentId});return v(function(){var e=h.current;e&&l.forEach(function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:m,container:e,pageIndex:i,rotation:u,scale:s})})},[]),c.createElement("div",{ref:h,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(i)},m.map(function(e){var l=n.find(function(t){return t.parentId===e.id});switch(e.annotationType){case t.UJ.Caret:return c.createElement(ev,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Circle:return c.createElement(em,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.FileAttachment:return c.createElement(ew,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.FreeText:return c.createElement(eE,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Highlight:return c.createElement(eb,{key:e.id,annotation:e,childAnnotation:l,page:a,viewport:g});case t.UJ.Ink:return c.createElement(eP,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Line:return c.createElement(ex,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Link:return c.createElement(eT,{key:e.id,annotation:e,annotationContainerRef:h,doc:r,outlines:o,page:a,pageIndex:i,scale:s,viewport:g,onExecuteNamedAction:p,onJumpFromLinkAnnotation:d,onJumpToDest:f});case t.UJ.Polygon:return c.createElement(eL,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Polyline:return c.createElement(eM,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Popup:return c.createElement(ey,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Square:return c.createElement(eO,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Squiggly:return c.createElement(eH,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Stamp:return c.createElement(eI,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.StrikeOut:return c.createElement(eF,{key:e.id,annotation:e,page:a,viewport:g});case t.UJ.Text:return c.createElement(ej,{key:e.id,annotation:e,childAnnotation:l,page:a,viewport:g});case t.UJ.Underline:return c.createElement(eW,{key:e.id,annotation:e,page:a,viewport:g});default:return c.createElement(c.Fragment,{key:e.id})}}))},eG=function(e){var t=e.page,n=e.renderAnnotations,r=O(),o=c.useState({loading:!0,annotations:[]}),a=o[0],i=o[1];return c.useEffect(function(){t.getAnnotations({intent:"display"}).then(function(e){r.current&&i({loading:!1,annotations:e})})},[]),a.loading?c.createElement(c.Fragment,null):n(a.annotations)},eq=function(e){var t=e.doc,n=e.outlines,r=e.page,o=e.pageIndex,a=e.plugins,i=e.rotation,l=e.scale,u=e.onExecuteNamedAction,s=e.onJumpFromLinkAnnotation,p=e.onJumpToDest;return c.createElement(eG,{page:r,renderAnnotations:function(e){return c.createElement(eU,{annotations:e,doc:t,outlines:n,page:r,pageIndex:o,plugins:a,rotation:i,scale:l,onExecuteNamedAction:u,onJumpFromLinkAnnotation:s,onJumpToDest:p})}})},eJ=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},eX=function(e){var n=e.canvasLayerRef,r=e.height,o=e.page,a=e.pageIndex,i=e.plugins,l=e.rotation,u=e.scale,s=e.width,p=e.onRenderCanvasCompleted,d=c.useRef();return v(function(){var e=d.current;e&&e.cancel();var r=n.current;r.removeAttribute("data-testid"),i.forEach(function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:l,scale:u,status:t._8.PreRender})});var c=o.getViewport({rotation:l,scale:u}),s=window.devicePixelRatio||1,f=Math.sqrt(0x1000000/(c.width*c.height)),h=s>f;h?r.style.transform="scale(1, 1)":r.style.removeProperty("transform");var g=Math.min(f,s),v=function(e,t){if(Math.floor(e)===e)return[e,1];var n,r,o=1/e;if(o>8)return[1,8];if(Math.floor(o)===o)return[1,o];for(var a=e>1?o:e,i=0,c=1,l=1,u=1;;){var s=i+l,p=c+u;if(p>t)break;a<=s/p?(l=(n=[s,p])[0],u=n[1]):(i=(r=[s,p])[0],c=r[1])}return a<(i/c+l/u)/2?a===e?[i,c]:[c,i]:a===e?[l,u]:[u,l]}(g,8),m=v[0],w=v[1];r.width=eJ(c.width*g,m),r.height=eJ(c.height*g,m),r.style.width="".concat(eJ(c.width,w),"px"),r.style.height="".concat(eJ(c.height,w),"px"),r.hidden=!0;var E=r.getContext("2d",{alpha:!1}),y=h||1!==s?[g,0,0,g,0,0]:null;return d.current=o.render({canvasContext:E,transform:y,viewport:c}),d.current.promise.then(function(){r.hidden=!1,r.setAttribute("data-testid","core__canvas-layer-".concat(a)),i.forEach(function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:l,scale:u,status:t._8.DidRender})}),p()},function(){p()}),function(){r&&(r.width=0,r.height=0)}},[]),c.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(r,"px"),width:"".concat(s,"px")}},c.createElement("canvas",{ref:n}))},eK=function(e){var t=e.height,n=e.page,r=e.rotation,o=e.scale,a=e.width,i=c.useRef();return v(function(){var e=i.current,c=n.getViewport({rotation:r,scale:o});n.getOperatorList().then(function(r){var o;(o=i.current)&&(o.innerHTML=""),new l.SVGGraphics(n.commonObjs,n.objs).getSVG(r,c).then(function(n){n.style.height="".concat(t,"px"),n.style.width="".concat(a,"px"),e.appendChild(n)})})},[]),c.createElement("div",{className:"rpv-core__svg-layer",ref:i})},e$=function(e){var n=e.containerRef,r=e.page,o=e.pageIndex,a=e.plugins,i=e.rotation,u=e.scale,s=e.onRenderTextCompleted,p=c.useRef(),d=function(){var e=n.current;e&&([].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(t){return e.removeChild(t)}),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach(function(t){return e.removeChild(t)}))};return v(function(){var e=p.current;e&&e.cancel();var c=n.current;if(c){c.removeAttribute("data-testid");var f=r.getViewport({rotation:i,scale:u});return a.forEach(function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:c,pageIndex:o,scale:u,status:t._8.PreRender})}),r.getTextContent().then(function(e){d(),p.current=l.renderTextLayer({container:c,textContent:e,textContentSource:e,viewport:f}),p.current.promise.then(function(){c.setAttribute("data-testid","core__text-layer-".concat(o)),[].slice.call(c.children).forEach(function(e){e.classList.contains("rpv-core__text-layer-text--not")||e.classList.add("rpv-core__text-layer-text")}),a.forEach(function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:c,pageIndex:o,scale:u,status:t._8.DidRender})}),s()},function(){c.removeAttribute("data-testid"),s()})}),function(){var e;d(),null==(e=p.current)||e.cancel()}}},[]),c.createElement("div",{className:"rpv-core__text-layer",ref:n})},eZ=function(e){var n=e.doc,r=e.measureRef,o=e.outlines,a=e.pageIndex,i=e.pageRotation,l=e.pageSize,u=e.plugins,s=e.renderPage,p=e.renderQueueKey,d=e.rotation,f=e.scale,h=e.shouldRender,v=e.viewMode,m=e.onExecuteNamedAction,w=e.onJumpFromLinkAnnotation,E=e.onJumpToDest,y=e.onRenderCompleted,P=e.onRotatePage,x=O(),R=c.useState(null),_=R[0],k=R[1],C=c.useState(!1),S=C[0],T=C[1],L=c.useState(!1),M=L[0],H=L[1],I=c.useRef(),F=c.useRef(),V=Math.abs(d+i)%180==0,D=l.pageWidth*f,z=l.pageHeight*f,A=V?D:z,N=V?z:D,B=(l.rotation+d+i)%360,j=c.useRef(0),W=s||function(e){return c.createElement(c.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)};return c.useEffect(function(){k(null),T(!1),H(!1)},[i,d,f]),c.useEffect(function(){h&&x.current&&!_&&ei(n,a).then(function(e){x.current&&(j.current=p,k(e))})},[h,_]),c.useEffect(function(){S&&M&&(p!==j.current?(k(null),T(!1),H(!1)):y(a))},[S,M]),c.createElement("div",{className:g({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":v===t.nE.DualPage,"rpv-core__page-layer--dual-cover":v===t.nE.DualPageWithCover,"rpv-core__page-layer--single":v===t.nE.SinglePage}),"data-testid":"core__page-layer-".concat(a),ref:r,style:{height:"".concat(N,"px"),width:"".concat(A,"px")}},_?c.createElement(c.Fragment,null,W({annotationLayer:{attrs:{},children:c.createElement(eq,{doc:n,outlines:o,page:_,pageIndex:a,plugins:u,rotation:B,scale:f,onExecuteNamedAction:m,onJumpFromLinkAnnotation:w,onJumpToDest:E})},canvasLayer:{attrs:{},children:c.createElement(eX,{canvasLayerRef:I,height:N,page:_,pageIndex:a,plugins:u,rotation:B,scale:f,width:A,onRenderCanvasCompleted:function(){x.current&&T(!0)}})},canvasLayerRendered:S,doc:n,height:N,pageIndex:a,rotation:B,scale:f,svgLayer:{attrs:{},children:c.createElement(eK,{height:N,page:_,rotation:B,scale:f,width:A})},textLayer:{attrs:{},children:c.createElement(e$,{containerRef:F,page:_,pageIndex:a,plugins:u,rotation:B,scale:f,onRenderTextCompleted:function(){x.current&&H(!0)}})},textLayerRendered:M,width:A,markRendered:y,onRotatePage:function(e){return P(a,e)}}),u.map(function(e,t){return e.renderPageLayer?c.createElement(c.Fragment,{key:t},e.renderPageLayer({canvasLayerRef:I,canvasLayerRendered:S,doc:n,height:N,pageIndex:a,rotation:B,scale:f,textLayerRef:F,textLayerRendered:M,width:A})):c.createElement(c.Fragment,{key:t})})):c.createElement(b,{testId:"core__page-layer-loading-".concat(a)}))},eY=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Both="Both"}(eh||(eh={}));var eQ=function(e){return 1-Math.pow(1-e,4)},e0={left:0,top:0},e1={capture:!1,passive:!0},e2=function(e){var t=e.elementRef,n=e.enableSmoothScroll,r=e.isRtl,o=e.scrollDirection,a=e.onSmoothScroll,i=c.useState(e0),l=i[0],u=i[1],s=c.useState(t.current),p=s[0],d=s[1],f=r?-1:1,h=c.useRef(o);h.current=o;var g=c.useRef(e0),m=c.useRef(!0),w=c.useCallback(function(){m.current=!0,n&&u(g.current),a(!1)},[]),E=c.useCallback(function(){if(p){switch(h.current){case eh.Horizontal:g.current={left:f*p.scrollLeft,top:0};break;case eh.Both:g.current={left:f*p.scrollLeft,top:p.scrollTop};break;case eh.Vertical:default:g.current={left:0,top:p.scrollTop}}n&&!m.current||u(g.current)}},[p]);return v(function(){d(t.current)}),v(function(){if(p)return p.addEventListener("scroll",E,e1),function(){p.removeEventListener("scroll",E,e1)}},[p]),{scrollOffset:l,scrollTo:c.useCallback(function(e,n){var r=t.current;if(!r)return Promise.resolve();var o={left:0,top:0};switch(h.current){case eh.Horizontal:o.left=f*e.left;break;case eh.Both:o.left=f*e.left,o.top=e.top;break;case eh.Vertical:default:o.top=e.top}return n?(m.current=!1,a(!0),new Promise(function(e,t){!function(e,t,n,r,o,a){void 0===o&&(o=function(e){return e}),void 0===a&&(a=function(){});var i=0,c=0,l=!1;switch(t){case eh.Horizontal:c=e.scrollLeft,i=0;case eh.Both:c=e.scrollLeft,i=e.scrollTop;break;case eh.Vertical:default:c=0,i=e.scrollTop}var u=function(){l||(l=!0,e.scrollLeft=n.left,e.scrollTop=n.top,a())};if(1e-4>=Math.abs(i-n.top)&&t===eh.Vertical)u();else if(1e-4>=Math.abs(c-n.left)&&t===eh.Horizontal)u();else{var s,p=-1,d=c-n.left,f=i-n.top,h=function(r){-1===p&&(p=r);var a=r-p,g=o(Math.min(a/400,1)),v={left:c-d*g,top:i-f*g};switch(t){case eh.Horizontal:e.scrollLeft=v.left;break;case eh.Both:e.scrollLeft=v.left,e.scrollTop=v.top;break;case eh.Vertical:default:e.scrollTop=v.top}1e-4>=Math.abs(v.top-n.top)&&1e-4>=Math.abs(v.left-n.left)&&!l&&(window.cancelAnimationFrame(s),u()),a<400?s=window.requestAnimationFrame(h):window.cancelAnimationFrame(s)};s=window.requestAnimationFrame(h)}}(r,h.current,o,400,eQ,function(){w(),e()})})):new Promise(function(e,t){switch(h.current){case eh.Horizontal:r.scrollLeft=o.left;break;case eh.Both:r.scrollLeft=o.left,r.scrollTop=o.top;break;case eh.Vertical:default:r.scrollTop=o.top}e()})},[t])}},e5=function(e,t,n){return Math.max(e,Math.min(n,t))},e4=function(e,n){if(n!==t.nE.DualPageWithCover)return 0;if(!function(e){var t=e.length;if(1===t)return!1;for(var n=1;n<t;n++)if(e[n].height!==e[0].height||e[n].width!==e[0].width)return!0;return!1}(e))return 2*e[0].width;var r=ee(e.slice(1),2).map(function(e){return 2===e.length?e[0].width+e[1].width:e[0].width}),o=[e[0].width].concat(r);return Math.max.apply(Math,o)},e9={left:0,top:0},e3={left:0,top:0},e8={left:0,top:0},e6={left:0,top:0},e7={height:0,width:0},te={left:0,top:0},tt="data-virtual-index",tn=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],tr=function(e){var n,r,o,a,i,l,u,s=e.enableSmoothScroll,p=e.isRtl,f=e.numberOfItems,h=e.parentRef,g=e.setRenderRange,m=e.sizes,w=e.scrollMode,E=e.viewMode,y=c.useState(!1),b=y[0],P=y[1],x=c.useCallback(function(e){return P(e)},[]),R=c.useRef(w);R.current=w;var _=c.useRef(E);_.current=E;var k=w===t.VT.Wrapped||E===t.nE.DualPageWithCover||E===t.nE.DualPage?eh.Both:w===t.VT.Horizontal?eh.Horizontal:eh.Vertical,C=e2({elementRef:h,enableSmoothScroll:s,isRtl:p,scrollDirection:k,onSmoothScroll:x}),S=C.scrollOffset,T=C.scrollTo,L=(r=(n=c.useState(h.current))[0],o=n[1],a=c.useRef(!1),l=(i=c.useReducer(eY,{height:0,width:0}))[0],u=i[1],v(function(){h.current!==r&&o(h.current)}),v(function(){if(r&&!a.current){a.current=!0;var e=r.getBoundingClientRect();u({rect:{height:e.height,width:e.width}})}},[r]),c.useEffect(function(){if(r){var e=new ResizeObserver(function(e,t){e.forEach(function(e){if(e.target===r){var t=e.contentRect;u({rect:{height:t.height,width:t.width}})}})});return e.observe(r),function(){e.unobserve(r)}}},[r]),l),M=c.useRef({scrollOffset:te,measurements:[]});M.current.scrollOffset=S;var O=c.useMemo(function(){return Array(f).fill(-1)},[]),H=c.useState(O),I=H[0],F=H[1],V=c.useMemo(function(){return new IntersectionObserver(function(e){e.forEach(function(e){var t=e.isIntersecting?e.intersectionRatio:-1,n=e.target.getAttribute(tt);if(n){var r=parseInt(n,10);0<=r&&r<f&&F(function(e){return e[r]=t,function(e,t,n){if(n||2==arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0)})}})},{threshold:tn})},[]),D=c.useMemo(function(){return w===t.VT.Page&&E===t.nE.SinglePage?function(e,t,n){for(var r=[],o=0;o<e;o++){var a={height:Math.max(t.height,n[o].height),width:Math.max(t.width,n[o].width)},i=0===o?e6:r[o-1].end,c={left:i.left+a.width,top:i.top+a.height};r[o]={index:o,start:i,size:a,end:c,visibility:-1}}return r}(f,L,m):E===t.nE.DualPageWithCover?function(e,n,r,o){for(var a=[],i=0,c=0,l=e8,u=0;u<e;u++){var s=0===u?{height:o===t.VT.Page?Math.max(n.height,r[u].height):r[u].height,width:o===t.VT.Page?Math.max(n.width,r[u].width):r[u].width}:{height:o===t.VT.Page?Math.max(n.height,r[u].height):r[u].height,width:Math.max(n.width/2,r[u].width)};o===t.VT.Page?l=0===u?e8:{left:u%2==0?s.width:0,top:Math.floor((u-1)/2)*s.height+a[0].end.top}:0===u?(l=e8,i=r[0].height,c=0):u%2==1?(l={left:0,top:i+=c},c=u===e-1?r[u].height:Math.max(r[u].height,r[u+1].height)):l={left:a[u-1].end.left,top:i};var p={left:l.left+s.width,top:l.top+s.height};a[u]={index:u,start:l,size:s,end:p,visibility:-1}}return a}(f,L,m,w):E===t.nE.DualPage?function(e,n,r,o){for(var a=[],i=0,c=0,l=e3,u=0;u<e;u++){var s={height:o===t.VT.Page?Math.max(n.height,r[u].height):r[u].height,width:Math.max(n.width/2,r[u].width)};o===t.VT.Page?l={left:u%2==0?0:s.width,top:Math.floor(u/2)*s.height}:u%2==0?(l={left:0,top:i+=c},c=u===e-1?r[u].height:Math.max(r[u].height,r[u+1].height)):l={left:a[u-1].end.left,top:i};var p={left:l.left+s.width,top:l.top+s.height};a[u]={index:u,start:l,size:s,end:p,visibility:-1}}return a}(f,L,m,w):function(e,n,r,o){for(var a=[],i=0,c={left:0,top:0},l=0,u=e9,s=0;s<e;s++){var p=r[s];if(0===s)i=p.width,c={left:0,top:0},l=p.height;else switch(o){case t.VT.Wrapped:(i+=p.width)<n.width?(u={left:a[s-1].end.left,top:c.top},l=Math.max(l,p.height)):(i=p.width,c={left:(u={left:c.left,top:c.top+l}).left,top:u.top},l=p.height);break;case t.VT.Horizontal:case t.VT.Vertical:default:u=a[s-1].end}var d={left:u.left+p.width,top:u.top+p.height};a[s]={index:s,start:u,size:p,end:d,visibility:-1}}return a}(f,L,m,w)},[w,m,E,L]),z=D[f-1]?{height:D[f-1].end.top,width:D[f-1].end.left}:e7;M.current.measurements=D;var A=c.useMemo(function(){var e=function(e,t,n,r){var o=0;switch(e){case eh.Horizontal:o=r.left;break;case eh.Vertical:default:o=r.top}var a=t.length-1,i=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,a=r(o);if(a<n)e=o+1;else{if(!(a>n))return o;t=o-1}}return e>0?e-1:0}(0,a,o,function(n){switch(e){case eh.Horizontal:return t[n].start.left;case eh.Both:case eh.Vertical:default:return t[n].start.top}});if(e===eh.Both)for(var c=t[i].start.top;i-1>=0&&t[i-1].start.top===c&&t[i-1].start.left>=r.left;)i--;for(var l=i;l<=a;){var u={top:t[l].start.top-r.top,left:t[l].start.left-r.left},s={height:n.height-u.top,width:n.width-u.left};if(e===eh.Horizontal&&s.width<0||e===eh.Vertical&&s.height<0||e===eh.Both&&(s.width<0||s.height<0))break;l++}return{start:i,end:l}}(k,D,L,S),n=e.start,r=e.end,o=I.slice(e5(0,f,n),e5(0,f,r)),a=n+o.reduce(function(e,t,n,r){return t>r[e]?n:e},0),i=a=e5(0,f-1,a),c=g({endPage:r,numPages:f,startPage:n}),l=c.startPage,u=c.endPage;switch(l=Math.max(l,0),u=Math.min(u,f-1),E){case t.nE.DualPageWithCover:a>0&&(i=a%2==1?a:a-1),l=0===l?0:l%2==1?l:l-1,f-(u=u%2==1?u-1:u)<=2&&(u=f-1);break;case t.nE.DualPage:i=a%2==0?a:a-1,l=l%2==0?l:l-1,u=u%2==1?u:u-1;break;case t.nE.SinglePage:default:i=a}return{startPage:l,endPage:u,maxVisbilityIndex:i}},[D,L,S,E,I]),N=A.startPage,B=A.endPage,j=A.maxVisbilityIndex,W=c.useMemo(function(){for(var e=[],t=function(t){var n=D[t],r=d(d({},n),{visibility:void 0!==I[t]?I[t]:-1,measureRef:function(e){e&&(e.setAttribute(tt,"".concat(t)),V.observe(e))}});e.push(r)},n=N;n<=B;n++)t(n);return e},[N,B,I,D]),U=c.useCallback(function(e,n){var r=M.current.measurements[e5(0,f-1,e)],o=R.current===t.VT.Page?te:n;return r?T({left:o.left+r.start.left,top:o.top+r.start.top},s):Promise.resolve()},[T,s]),G=c.useCallback(function(e,n){var r=M.current.measurements,o=r[e].start,a=r.find(function(e){return e.start.top-o.top>1e-12});if(!a)return Promise.resolve();var i=a.index;switch(_.current){case t.nE.DualPage:i=i%2==0?i:i+1;break;case t.nE.DualPageWithCover:i=i%2==1?i:i+1}return U(i,n)},[]),q=c.useCallback(function(e,n){for(var r=M.current.measurements,o=r[e].start,a=e,i=!1,c=f-1;c>=0;c--)if(o.top-r[c].start.top>1e-12){i=!0,a=r[c].index;break}if(!i)return Promise.resolve();switch(_.current){case t.nE.DualPage:a=a%2==0?a:a-1;break;case t.nE.DualPageWithCover:a=a%2==0?a-1:a}return a===e&&(a=e-1),U(a,n)},[]),J=c.useCallback(function(e,n){if(_.current===t.nE.DualPageWithCover||_.current===t.nE.DualPage)return G(e,n);switch(R.current){case t.VT.Wrapped:return G(e,n);case t.VT.Horizontal:case t.VT.Vertical:default:return U(e+1,n)}},[]),X=c.useCallback(function(e,n){if(_.current===t.nE.DualPageWithCover||_.current===t.nE.DualPage)return q(e,n);switch(R.current){case t.VT.Wrapped:return q(e,n);case t.VT.Horizontal:case t.VT.Vertical:default:return U(e-1,n)}},[]),K=c.useCallback(function(){switch(R.current){case t.VT.Horizontal:return{position:"relative",height:"100%",width:"".concat(z.width,"px")};case t.VT.Vertical:default:return{position:"relative",height:"".concat(z.height,"px"),width:"100%"}}},[z]),$=c.useCallback(function(e){return R.current!==t.VT.Page?{}:{height:"".concat(L.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(e.start.top,"px)")}},[L]),Z=c.useCallback(function(e){return function(e,n,r,o,a){var i,c,l,u,s,p,d,f=n?"right":"left",h=r.length,g=e.start.left*(n?-1:1),v=e.size,m=v.height,w=v.width;if(o===t.nE.DualPageWithCover){var E=a===t.VT.Page?0:e.start.top;return 0===e.index||h%2==0&&e.index===h-1?((i={height:"".concat(m,"px"),minWidth:"".concat(e4(r,o),"px"),width:"100%"})[f]=0,i.position="absolute",i.top=0,i.transform="translate(".concat(g,"px, ").concat(E,"px)"),i):((c={height:"".concat(m,"px"),width:"".concat(w,"px")})[f]=0,c.position="absolute",c.top=0,c.transform="translate(".concat(g,"px, ").concat(E,"px)"),c)}if(o===t.nE.DualPage)return(l={height:"".concat(m,"px"),width:"".concat(w,"px")})[f]=0,l.position="absolute",l.top=0,l.transform="translate(".concat(g,"px, ").concat(a===t.VT.Page?0:e.start.top,"px)"),l;switch(a){case t.VT.Horizontal:return(u={height:"100%",width:"".concat(w,"px")})[f]=0,u.position="absolute",u.top=0,u.transform="translateX(".concat(g,"px)"),u;case t.VT.Page:return(s={height:"".concat(m,"px"),width:"".concat(w,"px")})[f]=0,s.position="absolute",s.top=0,s;case t.VT.Wrapped:return(p={height:"".concat(m,"px"),width:"".concat(w,"px")})[f]=0,p.position="absolute",p.top=0,p.transform="translate(".concat(g,"px, ").concat(e.start.top,"px)"),p;case t.VT.Vertical:default:return(d={height:"".concat(m,"px"),width:"100%"})[f]=0,d.position="absolute",d.top=0,d.transform="translateY(".concat(e.start.top,"px)"),d}}(e,p,m,_.current,R.current)},[p,m]),Y=c.useCallback(function(e,n){var r=M.current,o=r.measurements,a=r.scrollOffset,i=o[e5(0,f-1,n)];return i?T(R.current===t.VT.Page?{left:i.start.left,top:i.start.top}:{left:a.left*e,top:a.top*e},!1):Promise.resolve()},[]);return c.useEffect(function(){return function(){V.disconnect()}},[]),{boundingClientRect:L,isSmoothScrolling:b,startPage:N,endPage:B,maxVisbilityIndex:j,virtualItems:W,getContainerStyles:K,getItemContainerStyles:$,getItemStyles:Z,scrollToItem:U,scrollToNextItem:J,scrollToPreviousItem:X,zoom:Y}},to=function(e,n,r,o,a,i){var c=r;switch(!0){case a===t.nE.DualPageWithCover&&i>=3:case a===t.nE.DualPage&&i>=3:c=2*r;break;default:c=r}switch(o){case t.dD.ActualSize:return 1;case t.dD.PageFit:return Math.min((e.clientWidth-17)/c,(e.clientHeight-16)/n);case t.dD.PageWidth:return(e.clientWidth-17)/c}},ta=function(e){var t,n,r=e.getCurrentPage,o=(n=c.useRef([]),c.useEffect(function(){return function(){n.current=[]}},[]),{push:function(e){var t=n.current;t.length+1>50&&t.shift(),t.push(e),n.current=t},map:function(e){return n.current.map(function(t){return e(t)})},pop:function(){var e=n.current;if(0===e.length)return null;var t=e.pop();return n.current=e,t}}),a=(t=c.useRef([]),c.useEffect(function(){return function(){t.current=[]}},[]),{dequeue:function(){var e=t.current;if(0===e.length)return null;var n=e.shift();return t.current=e,n||null},enqueue:function(e){var n=t.current;n.length+1>50&&n.pop(),t.current=[e].concat(n)},map:function(e){return t.current.map(function(t){return e(t)})}}),i=function(){var e=a.dequeue();return e&&o.push(e),e&&e.pageIndex===r()?i():e},l=function(){var e=o.pop();return e&&a.enqueue(e),e&&e.pageIndex===r()?l():e};return{getNextDestination:i,getPreviousDestination:l,markVisitedDestination:c.useCallback(function(e){o.push(e)},[])}},ti=function(e){var t=[];return e.map(function(e){var n;t=t.concat(e).concat((n=[],e.items&&e.items.length>0&&(n=n.concat(ti(e.items))),n))}),t},tc={capture:!1,passive:!0},tl={height:0,width:0},tu={height:0,width:0},ts=function(e){var n,r,o,a,i=e.getCurrentPage,l=e.getCurrentScrollMode,u=e.jumpToPage,s=e.targetRef,p=c.useState(t.HG.Normal),d=p[0],f=p[1],h=(r=(n=c.useState(tl))[0],o=n[1],a=M(function(){o({height:window.innerHeight,width:window.innerWidth})},100),v(function(){return window.addEventListener("resize",a,tc),function(){window.removeEventListener("resize",a,tc)}},[]),r),g=c.useState(tu),m=g[0],w=g[1],E=c.useRef(tu),y=c.useRef(i()),b=c.useRef(tu),P=c.useState(s.current),x=P[0],R=P[1],_=c.useRef();v(function(){s.current!==x&&R(s.current)},[]),v(function(){if(x){var e=new ResizeObserver(function(e){e.forEach(function(e){var t=e.target.getBoundingClientRect();w({height:t.height,width:t.width})})});return e.observe(x),function(){e.unobserve(x),e.disconnect()}}},[x]);var k=c.useCallback(function(e){var n=L();return n&&n!==e?(f(t.HG.Normal),T(n)):Promise.resolve()},[]),O=c.useCallback(function(e){e&&C&&S.FullScreenEnabled in document&&!0===document[S.FullScreenEnabled]&&(R(e),k(e).then(function(){_.current=e,f(t.HG.Entering),C&&e[S.RequestFullScreen]()}))},[]),H=c.useCallback(function(){L()&&(f(t.HG.Exitting),T(document))},[]),I=c.useCallback(function(){x&&L()!==x&&f(t.HG.Exitting)},[x]);return c.useEffect(function(){switch(d){case t.HG.Entering:_.current&&(_.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),y.current=i(),E.current={height:window.innerHeight,width:window.innerWidth};break;case t.HG.Entered:l()===t.VT.Page?u(y.current).then(function(){f(t.HG.EnteredCompletely)}):f(t.HG.EnteredCompletely);break;case t.HG.Exitting:_.current&&(_.current.style.backgroundColor="",_.current=null),y.current=i();break;case t.HG.Exited:f(t.HG.Normal),l()===t.VT.Page&&u(y.current)}},[d]),c.useEffect(function(){if(d!==t.HG.Normal)return d===t.HG.Entering&&h.height===m.height&&h.width===m.width&&h.height>0&&h.width>0&&(0===b.current.height||h.height==b.current.height)?(b.current={height:window.innerHeight,width:window.innerWidth},void f(t.HG.Entered)):void(d===t.HG.Exitting&&E.current.height===h.height&&E.current.width===h.width&&h.height>0&&h.width>0&&f(t.HG.Exited))},[d,h,m]),c.useEffect(function(){return C&&document.addEventListener(S.FullScreenChange,I),function(){C&&document.removeEventListener(S.FullScreenChange,I)}},[x]),{enterFullScreenMode:O,exitFullScreenMode:H,fullScreenMode:d}},tp={buildPageStyles:function(){return{}},transformSize:function(e){return e.size}},td={left:0,top:0},tf=function(e){var n=e.currentFile,r=e.defaultScale,o=e.doc,a=e.enableSmoothScroll,i=e.initialPage,l=e.initialRotation,u=e.initialScale,s=e.pageLayout,p=e.pageSizes,f=e.plugins,m=e.renderPage,w=e.scrollMode,E=e.setRenderRange,y=e.viewMode,b=e.viewerState,P=e.onDocumentLoad,x=e.onOpenFile,R=e.onPageChange,_=e.onRotate,k=e.onRotatePage,C=e.onZoom,S=o.numPages,T=o.loadingTask.docId,L=c.useContext(D).l10n,I=c.useContext(h),V=I.direction===t.z4.RightToLeft,z=c.useRef(),A=c.useRef(),N=c.useState(i),B=N[0],j=N[1],W=c.useRef(null),U=ta({getCurrentPage:function(){return ew.current.pageIndex}}),G=c.useState(l),q=G[0],J=G[1],X=H(q),K=c.useState(!1),$=K[0],Z=K[1],Y=c.useState(new Map),Q=Y[0],et=Y[1],eo=c.useState(w),ea=eo[0],ec=eo[1],el=H(ea),eu=c.useState(y),es=eu[0],ep=eu[1],ed=H(es),ef=(e0=O(),e2=(e1=c.useState([]))[0],e5=e1[1],c.useEffect(function(){o.getOutline().then(function(e){e0.current&&null!==e&&e5(ti(e))})},[]),e2),eh=c.useState(u),eg=eh[0],ev=eh[1],em=H(eg),ew=c.useRef(b),eE=c.useRef("string"==typeof r?r:null),ey=c.useRef(-1),eb=c.useRef(-1),eP=c.useRef(i),ex=ts({getCurrentPage:function(){return ew.current.pageIndex},getCurrentScrollMode:function(){return ew.current.scrollMode},jumpToPage:function(e){return eW(e)},targetRef:A}),eR=c.useState(-1),e_=eR[0],ek=eR[1],eC=c.useState(0),eS=eC[0],eT=eC[1],eL=F({doc:o});c.useEffect(function(){return function(){en.clear(),er.clear()}},[T]);var eM=c.useMemo(function(){return Object.assign({},tp,s)},[]),eO=c.useMemo(function(){return Array(S).fill(0).map(function(e,t){var n=[p[t].pageHeight,p[t].pageWidth],r=Math.abs(q)%180==0?{height:n[0],width:n[1]}:{height:n[1],width:n[0]},o={height:r.height*eg,width:r.width*eg};return eM.transformSize({numPages:S,pageIndex:t,size:o})})},[q,eg]),eH=tr({enableSmoothScroll:a,isRtl:V,numberOfItems:S,parentRef:A,scrollMode:ea,setRenderRange:E,sizes:eO,viewMode:es});e9=(e4={targetRef:A,onResize:M(function(){!eE.current||ew.current.fullScreenMode!==t.HG.Normal||i>0&&eP.current===i||e$(eE.current)},200)}).targetRef,e3=e4.onResize,v(function(){var e=new ResizeObserver(function(e){e.forEach(function(e){e3(e.target)})}),t=e9.current;if(t)return e.observe(t),function(){e.unobserve(t)}},[]);var eI=function(e){var t=e;f.forEach(function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))}),ew.current=t},eF=function(){return A.current},eV=function(){return ew.current},eD=c.useCallback(function(e){U.markVisitedDestination(e)},[]),ez=c.useCallback(function(e){var n=e.pageIndex,r=e.bottomOffset,a=e.leftOffset,i=e.scaleTo,c=A.current,l=ew.current;return c&&l?new Promise(function(e,u){ei(o,n).then(function(o){var u=o.getViewport({scale:1}),s=0,d=("function"==typeof r?r(u.width,u.height):r)||0,f=("function"==typeof a?a(u.width,u.height):a)||0,h=l.scale;switch(i){case t.dD.PageFit:s=0,f=0,e$(t.dD.PageFit);break;case t.dD.PageWidth:h=to(c,p[n].pageHeight,p[n].pageWidth,t.dD.PageWidth,y,S),s=(u.height-d)*h,f*=h,e$(h);break;default:s=(u.height-d)*h,f*=h}switch(l.scrollMode){case t.VT.Horizontal:eH.scrollToItem(n,{left:f,top:0}).then(function(){e()});break;case t.VT.Vertical:default:eH.scrollToItem(n,{left:0,top:s}).then(function(){e()})}})}):Promise.resolve()},[]),eA=c.useCallback(function(e){return U.markVisitedDestination(e),ez(e)},[]),eN=c.useCallback(function(){var e=U.getNextDestination();return e?ez(e):Promise.resolve()},[]),eB=c.useCallback(function(){var e=U.getPreviousDestination();return e?ez(e):Promise.resolve()},[]),ej=c.useCallback(function(){return eH.scrollToNextItem(ew.current.pageIndex,td)},[]),eW=c.useCallback(function(e){return 0<=e&&e<S?eH.scrollToItem(e,td):Promise.resolve()},[]),eU=c.useCallback(function(){return eH.scrollToPreviousItem(ew.current.pageIndex,td)},[]),eG=c.useCallback(function(e){var t;"pdf"===((t=e.name.split(/\./).pop())?t.toLowerCase():"").toLowerCase()&&new Promise(function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){t(new Uint8Array(n.result))}}).then(function(t){x(e.name,t)})},[x]),eq=c.useCallback(function(e){var n=e===t.pT.Backward?-90:90,r=ew.current.rotation,a=360===r||-360===r?n:r+n;eL.markNotRendered(),J(a),eI(d(d({},ew.current),{rotation:a})),_({direction:e,doc:o,rotation:a})},[]),eJ=c.useCallback(function(e,n){var r=n===t.pT.Backward?-90:90,a=ew.current.pagesRotation,i=(a.has(e)?a.get(e):l)+r,c=a.set(e,i);et(c),Z(function(e){return!e}),eI(d(d({},ew.current),{pagesRotation:c,rotatedPage:e})),k({direction:n,doc:o,pageIndex:e,rotation:i}),eL.markRendering(e),ek(e)},[]),eX=c.useCallback(function(e){eI(d(d({},ew.current),{scrollMode:e})),ec(e)},[]),eK=c.useCallback(function(e){eI(d(d({},ew.current),{viewMode:e})),ep(e)},[]),e$=c.useCallback(function(e){var t=A.current,n=ew.current.pageIndex;if(!(n<0||n>=S)){var r=p[n].pageHeight,a=p[n].pageWidth,i=t?"string"==typeof e?to(t,r,a,e,ew.current.viewMode,S):e:1;eE.current="string"==typeof e?e:null,i!==ew.current.scale&&(eT(function(e){return e+1}),eL.markNotRendered(),ev(i),C({doc:o,scale:i}),eI(d(d({},ew.current),{scale:i})))}},[]),eY=c.useCallback(function(e){ex.enterFullScreenMode(e)},[]),eQ=c.useCallback(function(){ex.exitFullScreenMode()},[]);c.useEffect(function(){eI(d(d({},ew.current),{fullScreenMode:ex.fullScreenMode}))},[ex.fullScreenMode]),c.useEffect(function(){var e={enterFullScreenMode:eY,exitFullScreenMode:eQ,getPagesContainer:eF,getViewerState:eV,jumpToDestination:eA,jumpToNextDestination:eN,jumpToPreviousDestination:eB,jumpToNextPage:ej,jumpToPreviousPage:eU,jumpToPage:eW,openFile:eG,rotate:eq,rotatePage:eJ,setViewerState:eI,switchScrollMode:eX,switchViewMode:eK,zoom:e$};return f.forEach(function(t){t.install&&t.install(e)}),function(){f.forEach(function(t){t.uninstall&&t.uninstall(e)})}},[T]),c.useEffect(function(){P({doc:o,file:n}),f.forEach(function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:o,file:n})})},[T]);var e0,e1,e2,e5,e4,e9,e3,e8,e6,e7,te=eH.boundingClientRect;e8=function(){i&&eW(i)},e6=te.height>0&&te.width>0,e7=c.useRef(!1),v(function(){e6&&!e7.current&&(e7.current=!0,e8())},[e8,e6]),v(function(){var e=ew.current.pageIndex;e>-1&&el!==ea&&eH.scrollToItem(e,td).then(function(){ex.fullScreenMode===t.HG.EnteredCompletely&&(a||eL.markNotRendered(),ey.current=-1)})},[ea]),v(function(){var e=ew.current.pageIndex;e>-1&&X!==q&&eH.scrollToItem(e,td)},[q]),v(function(){0!=em&&em!=ew.current.scale&&eH.zoom(ew.current.scale/em,ew.current.pageIndex).then(function(){ex.fullScreenMode===t.HG.EnteredCompletely&&(eb.current=-1)})},[eg]),v(function(){if(ed!==ew.current.viewMode){var e=eH.startPage,t=eH.endPage,n=eH.virtualItems;eL.markNotRendered(),eL.setRange(e,t);for(var r=function(e){var t=n.find(function(t){return t.index===e});t&&eL.setVisibility(e,t.visibility)},o=e;o<=t;o++)r(o);tn()}},[es]),v(function(){var e=ew.current.pageIndex;e>-1&&ed!==es&&eH.scrollToItem(e,td)},[es]),v(function(){var e=ew.current.pageIndex;e>0&&e===i&&eP.current===i&&eE.current&&(eP.current=-1,e$(eE.current))},[B]),c.useEffect(function(){eH.isSmoothScrolling||null!==W.current&&W.current===B||(W.current=B,R({currentPage:B,doc:o}))},[B,eH.isSmoothScrolling]),c.useEffect(function(){ex.fullScreenMode===t.HG.Entering&&ew.current.scrollMode===t.VT.Page&&(ey.current=ew.current.pageIndex),ex.fullScreenMode===t.HG.EnteredCompletely&&ew.current.scrollMode===t.VT.Page&&a&&(ey.current=-1),ex.fullScreenMode===t.HG.EnteredCompletely&&eE.current&&(eb.current=ew.current.pageIndex,e$(eE.current))},[ex.fullScreenMode]),c.useEffect(function(){if(ex.fullScreenMode!==t.HG.Entering&&ex.fullScreenMode!==t.HG.Exitting&&!eH.isSmoothScrolling){var e=eH.startPage,n=eH.endPage,r=eH.maxVisbilityIndex,o=eH.virtualItems,a=ex.fullScreenMode===t.HG.Entered||ex.fullScreenMode===t.HG.EnteredCompletely;if(!(a&&r!==ey.current&&ey.current>-1||a&&r!==eb.current&&eb.current>-1)){j(r),eI(d(d({},ew.current),{pageIndex:r})),eL.setRange(e,n);for(var i=function(e){var t=o.find(function(t){return t.index===e});t&&eL.setVisibility(e,t.visibility)},c=e;c<=n;c++)i(c);tn()}}},[eH.startPage,eH.endPage,eH.isSmoothScrolling,eH.maxVisbilityIndex,ex.fullScreenMode,$,q,eg]);var tt=c.useCallback(function(e){eL.markRendered(e),tn()},[eS]),tn=function(){var e=eL.getHighestPriorityPage();e>-1&&eL.isInRange(e)&&(eL.markRendering(e),ek(e))},tc=function(e){var t=B-1,n=B+1;switch(e){case"FirstPage":eW(0);break;case"LastPage":eW(S-1);break;case"NextPage":n<S&&eW(n);break;case"PrevPage":t>=0&&eW(t)}},tl=c.useCallback(function(){var e=eH.virtualItems,n=[];switch(es){case t.nE.DualPage:n=ee(e,2);break;case t.nE.DualPageWithCover:e.length&&(n=0===e[0].index?[[e[0]]].concat(ee(e.slice(1),2)):ee(e,2));break;case t.nE.SinglePage:default:n=ee(e,1)}var r=L&&L.core?L.core.pageLabel:"Page {{pageIndex}}",a={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:z,style:{height:"100%"}},children:c.createElement(c.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:g({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":ea===t.VT.Horizontal,"rpv-core__inner-pages--rtl":V,"rpv-core__inner-pages--single":ea===t.VT.Page,"rpv-core__inner-pages--vertical":ea===t.VT.Vertical,"rpv-core__inner-pages--wrapped":ea===t.VT.Wrapped}),ref:A,style:{height:"100%",position:"relative"}},children:c.createElement("div",{"data-testid":"core__inner-current-page-".concat(B),style:Object.assign({"--scale-factor":eg},eH.getContainerStyles())},n.map(function(e){return c.createElement("div",{className:g({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":ea===t.VT.Page}),style:eH.getItemContainerStyles(e[0]),key:"".concat(e[0].index,"-").concat(es)},e.map(function(e){var n=es===t.nE.DualPageWithCover&&(0===e.index||S%2==0&&e.index===S-1);return c.createElement("div",{"aria-label":r.replace("{{pageIndex}}","".concat(e.index+1)),className:g({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":es===t.nE.DualPage&&e.index%2==0,"rpv-core__inner-page--dual-odd":es===t.nE.DualPage&&e.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":es===t.nE.DualPageWithCover&&!n&&e.index%2==0,"rpv-core__inner-page--dual-cover-odd":es===t.nE.DualPageWithCover&&!n&&e.index%2==1,"rpv-core__inner-page--single":es===t.nE.SinglePage&&ea===t.VT.Page}),role:"region",key:"".concat(e.index,"-").concat(es),style:Object.assign({},eH.getItemStyles(e),eM.buildPageStyles({numPages:S,pageIndex:e.index,scrollMode:ea,viewMode:es}))},c.createElement(eZ,{doc:o,measureRef:e.measureRef,outlines:ef,pageIndex:e.index,pageRotation:Q.has(e.index)?Q.get(e.index):0,pageSize:p[e.index],plugins:f,renderPage:m,renderQueueKey:eS,rotation:q,scale:eg,shouldRender:e_===e.index,viewMode:es,onExecuteNamedAction:tc,onJumpFromLinkAnnotation:eD,onJumpToDest:eA,onRenderCompleted:tt,onRotatePage:eJ}))}))}))}};return f.forEach(function(e){e.renderViewer&&(a=e.renderViewer({containerRef:z,doc:o,pagesContainerRef:A,pagesRotation:Q,pageSizes:p,rotation:q,slot:a,themeContext:I,jumpToPage:eW,openFile:eG,rotate:eq,rotatePage:eJ,switchScrollMode:eX,switchViewMode:eK,zoom:e$}))}),a},[f,eH]),tu=c.useCallback(function(e){return c.createElement("div",d({},e.attrs,{style:e.attrs&&e.attrs.style?e.attrs.style:{}}),e.children,e.subSlot&&tu(e.subSlot))},[]);return tu(tl())},th=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],tg=function(e){var n=e.defaultScale,r=e.doc,o=e.render,a=e.scrollMode,i=e.viewMode,l=c.useRef(),u=c.useState({pageSizes:[],scale:0}),s=u[0],p=u[1];return c.useLayoutEffect(function(){Promise.all(Array(r.numPages).fill(0).map(function(e,t){return new Promise(function(e,n){ei(r,t).then(function(t){var n=t.getViewport({scale:1});e({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})})})})).then(function(e){var o=l.current;if(o&&0!==e.length){var c,u,s=e[0].pageWidth,d=e[0].pageHeight,f=o.parentElement,h=(f.clientWidth-45)/s,g=(f.clientHeight-45)/d,v=h;switch(a){case t.VT.Horizontal:v=Math.min(h,g);break;case t.VT.Vertical:default:v=h}p({pageSizes:e,scale:n?"string"==typeof n?to(f,d,s,n,i,r.numPages):n:(c=v,-1===(u=th.findIndex(function(e){return e>=c}))||0===u?c:th[u-1])})}})},[r.loadingTask.docId]),0===s.pageSizes.length||0===s.scale?c.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:l},c.createElement(b,null)):o(s.pageSizes,s.scale)},tv=function(){},tm=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.passwordStatus=n,r}return s(t,e),t}(tv),tw=function(e){var n=e.passwordStatus,r=e.renderProtectedView,o=e.verifyPassword,a=e.onDocumentAskPassword,i=c.useContext(D).l10n,l=c.useState(""),u=l[0],s=l[1],p=c.useContext(h).direction===t.z4.RightToLeft,d=function(){return o(u)};return c.useEffect(function(){a&&a({verifyPassword:o})},[]),r?r({passwordStatus:n,verifyPassword:o}):c.createElement("div",{className:"rpv-core__asking-password-wrapper"},c.createElement("div",{className:g({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":p})},c.createElement("div",{className:"rpv-core__asking-password-message"},n===t.a9.RequiredPassword&&i.core.askingPassword.requirePasswordToOpen,n===t.a9.WrongPassword&&i.core.wrongPassword.tryAgain),c.createElement("div",{className:"rpv-core__asking-password-body"},c.createElement("div",{className:g({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!p,"rpv-core__asking-password-input--rtl":p})},c.createElement(P,{testId:"core__asking-password-input",type:"password",value:u,onChange:s,onKeyDown:function(e){"Enter"===e.key&&d()}})),c.createElement(y,{onClick:d},i.core.askingPassword.submit))))},tE=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return s(t,e),t}(tv),ty=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return s(t,e),t}(tv),tb=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return s(t,e),t}(tv),tP=function(e){var n=e.characterMap,r=e.file,o=e.httpHeaders,a=e.render,i=e.renderError,u=e.renderLoader,s=e.renderProtectedView,p=e.transformGetDocumentParams,d=e.withCredentials,f=e.onDocumentAskPassword,v=c.useContext(h).direction===t.z4.RightToLeft,m=c.useState(new tb(0)),w=m[0],E=m[1],y=c.useRef(""),P=O();return c.useEffect(function(){y.current="",E(new tb(0));var e=new l.PDFWorker({name:"PDFWorker_".concat(Date.now())}),a=Object.assign({httpHeaders:o,withCredentials:d,worker:e},"string"==typeof r?{url:r}:{data:r},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),i=p?p(a):a,c=l.getDocument(i);return c.onPassword=function(e,n){switch(n){case l.PasswordResponses.NEED_PASSWORD:P.current&&E(new tm(e,t.a9.RequiredPassword));break;case l.PasswordResponses.INCORRECT_PASSWORD:P.current&&E(new tm(e,t.a9.WrongPassword))}},c.onProgress=function(e){var t=e.total>0?Math.min(100,100*e.loaded/e.total):100;P.current&&""===y.current&&E(new tb(t))},c.promise.then(function(e){y.current=e.loadingTask.docId,P.current&&E(new tE(e))},function(t){return P.current&&!e.destroyed&&E(new ty({message:t.message||"Cannot load document",name:t.name}))}),function(){c.destroy(),e.destroy()}},[r]),w instanceof tm?c.createElement(tw,{passwordStatus:w.passwordStatus,renderProtectedView:s,verifyPassword:w.verifyPassword,onDocumentAskPassword:f}):w instanceof tE?a(w.doc):w instanceof ty?i?i(w.error):c.createElement("div",{className:g({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":v})},c.createElement("div",{className:"rpv-core__doc-error-text"},w.error.message)):c.createElement("div",{"data-testid":"core__doc-loading",className:g({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":v})},u?u(w.percentages):c.createElement(b,null))},tx=function(e,t){var n=c.useMemo(function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e},[]),r=c.useState(n),o=r[0],a=r[1],i=H(o);return c.useEffect(function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){a(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}},[]),c.useEffect(function(){o!==i&&t&&t(o)},[o]),c.useEffect(function(){e!==o&&a(e)},[e]),{currentTheme:o,setCurrentTheme:a}},tR=function(e){return{startPage:e.startPage-3,endPage:e.endPage+3}};t.Viewer=function(e){var n=e.characterMap,r=e.defaultScale,o=e.enableSmoothScroll,a=void 0===o||o,i=e.fileUrl,l=e.httpHeaders,u=e.initialPage,s=void 0===u?0:u,p=e.pageLayout,d=e.initialRotation,f=void 0===d?0:d,g=e.localization,v=e.plugins,w=void 0===v?[]:v,E=e.renderError,y=e.renderLoader,b=e.renderPage,P=e.renderProtectedView,x=e.scrollMode,R=void 0===x?t.VT.Vertical:x,_=e.setRenderRange,k=void 0===_?tR:_,C=e.transformGetDocumentParams,S=e.theme,T=void 0===S?{direction:t.z4.LeftToRight,theme:"light"}:S,L=e.viewMode,M=void 0===L?t.nE.SinglePage:L,O=e.withCredentials,I=e.onDocumentAskPassword,F=e.onDocumentLoad,z=void 0===F?function(){}:F,A=e.onPageChange,N=void 0===A?function(){}:A,B=e.onRotate,j=void 0===B?function(){}:B,W=e.onRotatePage,U=void 0===W?function(){}:W,G=e.onSwitchTheme,q=e.onZoom,J=void 0===q?function(){}:q,X=c.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),K=X[0],$=X[1],Z=function(e,t){$({data:t,name:e,shouldLoad:!0})},Y=c.useState(!1),Q=Y[0],ee=Y[1],et=H(K);c.useEffect(function(){var e,t,n;e=et.data,n=typeof i,"string"==(t=typeof e)&&"string"===n&&e===i||"object"===t&&"object"===n&&e.length===i.length&&e.every(function(e,t){return e===i[t]})||$({data:i,name:"string"==typeof i?i:"",shouldLoad:Q})},[i,Q]);var en=m({onVisibilityChanged:function(e){ee(e.isVisible),e.isVisible&&$(function(e){return Object.assign({},e,{shouldLoad:!0})})}}),er="string"==typeof T?{direction:t.z4.LeftToRight,theme:T}:T,eo=c.useState(g||V),ea=eo[0],ei=eo[1],ec=Object.assign({},{direction:er.direction},tx(er.theme||"light",void 0===G?function(){}:G));return c.useEffect(function(){g&&ei(g)},[g]),c.createElement(D.Provider,{value:{l10n:ea,setL10n:ei}},c.createElement(h.Provider,{value:ec},c.createElement("div",{ref:en,className:"rpv-core__viewer rpv-core__viewer--".concat(ec.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},K.shouldLoad&&c.createElement(tP,{characterMap:n,file:K.data,httpHeaders:void 0===l?{}:l,render:function(e){return c.createElement(tg,{defaultScale:r,doc:e,render:function(n,o){return c.createElement(tf,{currentFile:{data:K.data,name:K.name},defaultScale:r,doc:e,enableSmoothScroll:a,initialPage:s,initialRotation:f,initialScale:o,pageLayout:p,pageSizes:n,plugins:w,renderPage:b,scrollMode:R,setRenderRange:k,viewMode:M,viewerState:{file:K,fullScreenMode:t.HG.Normal,pageIndex:-1,pageHeight:n[0].pageHeight,pageWidth:n[0].pageWidth,pagesRotation:new Map,rotation:f,scale:o,scrollMode:R,viewMode:M},onDocumentLoad:z,onOpenFile:Z,onPageChange:N,onRotate:j,onRotatePage:U,onZoom:J})},scrollMode:R,viewMode:M})},renderError:E,renderLoader:y,renderProtectedView:P,transformGetDocumentParams:C,withCredentials:void 0!==O&&O,onDocumentAskPassword:I}))))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return l.GlobalWorkerOptions.workerSrc=n,c.createElement(c.Fragment,null,t)}},3226:(e,t,n)=>{"use strict";e.exports=n(2348)},3305:(e,t,n)=>{!function(){var t={452:function(e){"use strict";e.exports=n(8041)}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,o),i=!1}finally{i&&delete r[e]}return a.exports}o.ab="//";var a={};!function(){var e,t=(e=o(452))&&"object"==typeof e&&"default"in e?e.default:e,n=/https?|ftp|gopher|file/;function r(e){"string"==typeof e&&(e=m(e));var r,o,a,i,c,l,u,s,p,d=(o=(r=e).auth,a=r.hostname,i=r.protocol||"",c=r.pathname||"",l=r.hash||"",u=r.query||"",s=!1,o=o?encodeURIComponent(o).replace(/%3A/i,":")+"@":"",r.host?s=o+r.host:a&&(s=o+(~a.indexOf(":")?"["+a+"]":a),r.port&&(s+=":"+r.port)),u&&"object"==typeof u&&(u=t.encode(u)),p=r.search||u&&"?"+u||"",i&&":"!==i.substr(-1)&&(i+=":"),r.slashes||(!i||n.test(i))&&!1!==s?(s="//"+(s||""),c&&"/"!==c[0]&&(c="/"+c)):s||(s=""),l&&"#"!==l[0]&&(l="#"+l),p&&"?"!==p[0]&&(p="?"+p),{protocol:i,host:s,pathname:c=c.replace(/[?#]/g,encodeURIComponent),search:p=p.replace("#","%23"),hash:l});return""+d.protocol+d.host+d.pathname+d.search+d.hash}var i="http://",c=i+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,u=/https?|ftp|gopher|file/;function s(e,t){var n="string"==typeof e?m(e):e;e="object"==typeof e?r(e):e;var o=m(t),a="";n.protocol&&!n.slashes&&(a=n.protocol,e=e.replace(n.protocol,""),a+="/"===t[0]||"/"===e[0]?"/":""),a&&o.protocol&&(a="",o.slashes||(a=o.protocol,t=t.replace(o.protocol,"")));var s=e.match(l);s&&!o.protocol&&(e=e.substr((a=s[1]+(s[2]||"")).length),/^\/\/[^/]/.test(t)&&(a=a.slice(0,-1)));var p=new URL(e,c+"/"),d=new URL(t,p).toString().replace(c,""),f=o.protocol||n.protocol;return f+=n.slashes||o.slashes?"//":"",!a&&f?d=d.replace(i,f):a&&(d=d.replace(i,"")),u.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),a&&(d=a+("/"===d[0]?d.substr(1):d)),d}function p(){}p.prototype.parse=m,p.prototype.format=r,p.prototype.resolve=s,p.prototype.resolveObject=s;var d=/^https?|ftp|gopher|file/,f=/^(.*?)([#?].*)/,h=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,v=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function m(e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=!1),e&&"object"==typeof e&&e instanceof p)return e;var a=(e=e.trim()).match(f);e=a?a[1].replace(/\\/g,"/")+a[2]:e.replace(/\\/g,"/"),v.test(e)&&"/"!==e.slice(-1)&&(e+="/");var i=!/(^javascript)/.test(e)&&e.match(h),l=g.test(e),u="";i&&(d.test(i[1])||(u=i[1].toLowerCase(),e=""+i[2]+i[3]),i[2]||(l=!1,d.test(i[1])?(u=i[1],e=""+i[3]):e="//"+i[3]),3!==i[2].length&&1!==i[2].length||(u=i[1],e="/"+i[3]));var s,m=(a?a[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),w=m&&m[1],E=new p,y="",b="";try{s=new URL(e)}catch(t){y=t,u||o||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(b="/",e=e.substr(1));try{s=new URL(e,c)}catch(e){return E.protocol=u,E.href=u,E}}E.slashes=l&&!b,E.host="w.w"===s.host?"":s.host,E.hostname="w.w"===s.hostname?"":s.hostname.replace(/(\[|\])/g,""),E.protocol=y?u||null:s.protocol,E.search=s.search.replace(/\\/g,"%5C"),E.hash=s.hash.replace(/\\/g,"%5C");var P=e.split("#");!E.search&&~P[0].indexOf("?")&&(E.search="?"),E.hash||""!==P[1]||(E.hash="#"),E.query=n?t.decode(s.search.substr(1)):E.search.substr(1),E.pathname=b+(i?s.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):s.pathname),"about:"===E.protocol&&"blank"===E.pathname&&(E.protocol="",E.pathname=""),y&&"/"!==e[0]&&(E.pathname=E.pathname.substr(1)),u&&!d.test(u)&&"/"!==e.slice(-1)&&"/"===E.pathname&&(E.pathname=""),E.path=E.pathname+E.search,E.auth=[s.username,s.password].map(decodeURIComponent).filter(Boolean).join(":"),E.port=s.port,w&&!E.host.endsWith(w)&&(E.host+=w,E.port=w.slice(1)),E.href=b?""+E.pathname+E.search+E.hash:r(E);var x=/^(file)/.test(E.href)?["host","hostname"]:[];return Object.keys(E).forEach(function(e){~x.indexOf(e)||(E[e]=E[e]||null)}),E}a.parse=m,a.format=r,a.resolve=s,a.resolveObject=function(e,t){return m(s(e,t))},a.Url=p}(),e.exports=a}()},7328:(e,t,n)=>{e.exports=n(9836)},8041:e=>{!function(){"use strict";var t={815:function(e){e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(n);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var s,p,d,f,h=e[u].replace(i,"%20"),g=h.indexOf(r);(g>=0?(s=h.substr(0,g),p=h.substr(g+1)):(s=h,p=""),d=decodeURIComponent(s),f=decodeURIComponent(p),Object.prototype.hasOwnProperty.call(a,d))?t(a[d])?a[d].push(f):a[d]=[a[d],f]:a[d]=f}return a};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,a,i,c){return(a=a||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?r(o(e),function(o){var c=encodeURIComponent(t(o))+i;return n(e[o])?r(e[o],function(e){return c+encodeURIComponent(t(e))}).join(a):c+encodeURIComponent(t(e[o]))}).join(a):c?encodeURIComponent(t(c))+i+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}},i=!0;try{t[e](a,a.exports,r),i=!1}finally{i&&delete n[e]}return a.exports}r.ab="//";var o={};o.decode=o.parse=r(815),o.encode=o.stringify=r(577),e.exports=o}()}}]);